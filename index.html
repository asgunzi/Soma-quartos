<!doctype html>
<html>
<head>
 <title>Prova visual de soma de quartos</title>
 
<script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>

      <h1><a href="https://ideiasesquecidas.com"> <img src=	"https://ideiasesquecidas.files.wordpress.com/2020/03/forgottenlogo.png" width="90" height = "50"></a>Prova visual de soma de quartos
	</h1>
	   	<form>
		  <select onchange = "Desenhar()" name="Pontos" id="SelectPontos">
		    
		    <option value="1" selected >1</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4</option>
		    <option value="5">5</option>
		    <option value="6">6</option>
		    <option value="7">7</option>
		    <option value="8">8</option>			
		  </select>
		  <br><br>
		  
		</form>

	   
   <p>Expressão completa: 1/4 + 1/4^2 + 1/4^3 + 1/4^4 + ... = 1/3 
   </p>


<script type = "text/javascript">
    var svg1 = d3.select("body")
        .append("svg")
        .attr("width", 1000)
        .attr("height", 5000);

    Desenhar();
	
	function Desenhar()
	{
	svg1.selectAll("*").remove();
	N =d3.select("#SelectPontos").property("value");


	var x0 =[];
	var y0= [];
	var l0 =[];
	var color0 =[];
	
	var r0 = 10;
	var i;
	var j;
	
	var xref = 10;
	var yref = 10;
	var lref = 500;
	
	
	for (i = 1; i<=N;i++)
	{
		//1. Blue
		x0.push(xref);
		y0.push(yref);
		l0.push(lref/2);
		color0.push("blue");
		
		//2. Green
		x0.push(xref);
		y0.push(yref +lref/2);
		l0.push(lref/2);
		color0.push("lightgray");
		
		//3. Red
		x0.push(xref +lref/2);
		y0.push(yref +lref/2);
		l0.push(lref/2);
		color0.push("grey");
		
		xref = xref+lref/2;
		lref = lref/2;
		}
		
	/*svg1.append("text")
			.attr("x", 10)
			.attr("y", 155)
			.text("Comb. 1 azul 3 brancos")
			.attr("font-size",15)
	*/

	//Círculos
		var rect1 = svg1.selectAll("rect")
			.data(x0)
			.enter()
			.append("rect")
			.attr("x", function(d,i){ return (x0[i])} )
			.attr("y", function(d,i){ return (y0[i])} )
			.attr("width", function(d,i){ return (l0[i])})
			.attr("height", function(d,i){ return (l0[i])})
			.attr("fill", function(d,i){ return (color0[i])} )
			.attr("stroke", "black");

	}
	
  </script>
</body>
</html>